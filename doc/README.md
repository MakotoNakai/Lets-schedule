# ミーティング日時調整webサービス Let’s Schedule 要件定義書


# アジェンダ

- [目的](#目的)
- [サービス概要](#サービス概要)
- [既存サービスに対する優位性](#既存サービスに対する優位性)
- [技術要件](#技術要件)
  - [前提条件](#前提条件)
  - [制約条件](#制約条件)
- [技術選定](#技術選定)
  - [アーキテクチャ](#アーキテクチャ)
    - [Webサービスのアーキテクチャ](#webサービスのアーキテクチャ)
    - [採用理由](#採用理由)
    - [Webアプリケーションのアーキテクチャ](#webアプリケーションのアーキテクチャ)
    - [採用理由](#採用理由-1)
  - [使用技術](#使用技術)
    - [フロントエンド](#フロントエンド)
    - [採用理由](#採用理由-2)
    - [バックエンド](#バックエンド)
    - [選定理由](#選定理由)
  - [データベース](#データベース)
    - [選定理由](#選定理由-1)
  - [インフラ](#インフラ)
    - [選定理由](#選定理由-2)
  - [セキュリティの評価](#セキュリティの評価)
    - [フロントエンド](#フロントエンド-1)
    - [バックエンド](#バックエンド-1)
    - [DB](#db)
    - [インフラ](#インフラ-1)
- [機能要件](#機能要件)
  - [セキュリティ](#セキュリティ)
  - [証明書](#証明書)
  - [ユーザー共通](#ユーザー共通)
  - [ミーティング主催者](#ミーティング主催者)
  - [ミーティング参加者  (主催者以外)](#ミーティング参加者--主催者以外)
- [DB設計](#db設計)
  - [ユーザーテーブル (usersテーブル)](#ユーザーテーブル-usersテーブル)
  - [ミーティングテーブル (meetingsテーブル)](#ミーティングテーブル-meetingsテーブル)
  - [参加者テーブル (participantsテーブル)](#参加者テーブル-participantsテーブル)
  - [候補日時テーブル (candidate\_timeテーブル)](#候補日時テーブル-candidate_timeテーブル)
- [API仕様](#api仕様)
  - [共通事項](#共通事項)
    - [新規ユーザー作成](#新規ユーザー作成)
  - [ミーティング関連API エンドポイント](#ミーティング関連api-エンドポイント)
    - [ミーティング新規作成](#ミーティング新規作成)
    - [ミーティング情報取得](#ミーティング情報取得)
    - [日時が決定した主催ミーティング情報取得](#日時が決定した主催ミーティング情報取得)
    - [日時が決定していない主催ミーティング情報取得](#日時が決定していない主催ミーティング情報取得)
    - [返信していない主催ミーティング情報取得](#返信していない主催ミーティング情報取得)
    - [日時が決定している参加ミーティング情報取得](#日時が決定している参加ミーティング情報取得)
    - [日時が決定していない参加ミーティング情報取得](#日時が決定していない参加ミーティング情報取得)
    - [返信していない参加ミーティング情報取得](#返信していない参加ミーティング情報取得)
  - [候補日時関連API](#候補日時関連api)
    - [候補日時の新規登録](#候補日時の新規登録)
    - [候補日時の取得](#候補日時の取得)
    - [候補日時の編集](#候補日時の編集)
  - [参加者関連API](#参加者関連api)
    - [参加者の新規登録](#参加者の新規登録)
    - [参加者の取得](#参加者の取得)
    - [参加者の編集](#参加者の編集)
- [ページ](#ページ)
  - [フロントページ](#フロントページ)
    - [ログインページ](#ログインページ)
    - [ユーザー登録ページ](#ユーザー登録ページ)
    - [パスワード再設定ページ](#パスワード再設定ページ)
    - [ダッシュボード](#ダッシュボード)
    - [ダッシュボード](#ダッシュボード-1)
    - [ミーティング新規作成ページ](#ミーティング新規作成ページ)
    - [日時決定している主催ミーティング・参加ミーティングのカード](#日時決定している主催ミーティング参加ミーティングのカード)
    - [日時決定していない主催ミーティングのカード](#日時決定していない主催ミーティングのカード)
    - [日時決定ページ](#日時決定ページ)
    - [日時決定していない参加ミーティング・未返信の参加ミーティングのカード](#日時決定していない参加ミーティング未返信の参加ミーティングのカード)
    - [候補日時ページ](#候補日時ページ)
- [非機能要件](#非機能要件)
  - [同時接続数](#同時接続数)
  - [インフラ構成](#インフラ構成)


## 目的

本ドキュメントでは筆者が開発するミーティング日程調整サービスに必要な要件を定義する。

## サービス概要

 本サービスはミーティングの日程調整時に、各参加者の予定を元に全員が参加可能な日時を提案するwebサービスである。

具体的にはミーティングの候補日時の1つずつにリアクション（例: ◯/△/×）するのではなく、主催者・参加者共に範囲で入力できる

確定したミーティングの日時はicsファイル、Googleカレンダー、Outlookカレンダーなど、様々なフォーマットで外部に提供できる。

## 既存サービスに対する優位性

これらの点について以下の既存サービスと比較することで、本サービスの優位性を明確にする。

| | 主催者日時入力 | 参加者通知 | 参加者日時入力 | 日時決定 | カレンダーへの登録 | サービスへの使用条件 |
| ---- | ---- | ---- | ---- | ---- | ---- |---- |
| Let's Schedule | 候補入力 | サービス内で完結 | 参加できる日時を範囲入力 | 主催者が決定 | icsファイル Google Calendar・Outlook Calendarのリンク発行 | メアド制限なし |
| 調整さん | 候補日時1つずつ入力| 公開URL | 候補日時ごとに◯/X/△ | 全員が参加できる日時を色付け | なし | メアド
制限なし |
| Google Calendar | 候補日時範囲入力/自動抽出 | メール | 候補日時ごとにYes/No/Maybe | 主催者が決定 | Google
Calendarに登録| メアド制限なし (ただしGmail以外は別途連携必要) |
| Microsoft Outlook | 候補日時範囲入力/自動抽出 | メール | 候補日時ごとにYes/No | 主催者が決定 | Outlook
Calendarに登録 | Outlook Emailユーザーのみ |


## 技術要件

本webサービスに導入する技術は以下の通りである。

### 前提条件 

webブラウザからアクセスできる
htmlファイルが使えるブラウザを使用する
ブラウザではJavaScriptを有効とする
端末 (PC・モバイル・タブレット)のディスプレイに応じたページサイズに応じた表示をする


### 制約条件 

webサービスの管理者は開発者(中井)のみ
稼働率は99.5%である (24時間365日の稼働時間は保証しない)
同時接続数は250とする

(同時接続数の根拠)

研究室のメンバー (教員・学生含め) 112人 
合唱団のメンバー 38人
日常的に連絡を取っている友人 10人 
友人が参加する集まりの参加者数 10人程度

合計 112 + 38 + 10 * 10 = 250 



## 技術選定

本サービスでの技術選定は基本的に開発者本人の開発生産性を重視した。

### アーキテクチャ

#### Webサービスのアーキテクチャ

SPA (Single page application) を採用した。

#### 採用理由

今回開発者が候補として挙げたアーキテクチャは以下の4つである。

SPA: Single page application
概要: HTMLページのコンテンツを動的に更新するWebアプリケーションの形式

SSR: Server side rendering
概要: サーバーでHTMLを生成して、クライアントに送信する形式

SSG: Static site generator
概要: ビルド時にHTMLファイルを生成し、この静的ファイルをサーバーに配置する形式

ISR: Incremental static regeneration
概要: SSGの変更があった部分を再生成する形式

上記4つのアーキテクチャの中で、開発者が唯一使用経験があったSPAを選定した。


#### Webアプリケーションのアーキテクチャ
 
MVCアーキテクチャを採用した。

#### 採用理由

今回は以下の4つのwebアプリケーションのアーキテクチャを検討した。

MVC: WebアプリケーションをModel層 (データとビジネスロジックのコンポーネント)・View層 (UIのコンポーネント)・Controller層(ModelとViewの仲介するコンポーネント)に分離するアーキテクチャ

MVVM: Controller層の代わりにViewModel層でデータバインディングを行う方式

MVP: Model層からのデータ取得とView層からの入力処理をPresenter層で行う方式

Clean architecture: ビジネスロジックを中心として必要な処理を複数のレイヤーに分けることで、レイヤーごとの依存性をなくすアーキテクチャ

この中で開発者が使用経験があるのはMVCとClean architectureである。
今回は開発生産性を重視して比較的実装が単純なMVCを選定した。

### 使用技術

#### フロントエンド 

フロントエンドのフレームワークにVue.jsを採用した。

#### 採用理由

開発者が使用経験のあるReact.jsとVue.jsを検討した。React.jsはJSXという独自の記法が使われる一方、Vue.jsはHTMLやCSSを直感的に記述できるのが特徴である。今回は実装がシンプルで可読性の高いVue.jsを選定した。

#### バックエンド

Golang、中でもWebアプリケーションにはEchoを採用した。

#### 選定理由

使用するプログラミング言語は、提案者が使用経験があるPython・Ruby・Golangのうち静的型付け言語で型エラーが予防できるGolangを選定した。使用するwebフレームワークとしてはドキュメントが豊富で学習コストの低いEchoを選定した。


### データベース

MySQLを採用した。

#### 選定理由

開発者が使用経験のあるMySQLとPostgreSQLのうち、後者特有の機能 (e.g. row level security)を使う場面を想定していなかったので積極的に選定する理由がなかったので、MySQLを採用した。


### インフラ

本サービスはAWSのEC2上で運用する。なお、サービスで使用する各サーバーは全てEC2上のゲストVMで運用するものとする。

#### 選定理由

本サービスは大規模なワークロードは想定していないので、コンテナオーケストレーションは不要だと判断した。
その中で開発者がAWSのサービス (EC2、ECS、EKS)のうち、EC2で十分だと判断した。また、全てのサーバーをEC2内部の別々のゲストVM上で運用することで、セキュリティを向上させる。


### セキュリティの評価

#### フロントエンド

ユーザーからの入力をエスケープすることでXSS攻撃を防ぐ。また通信にHTTPSを使用して盗聴や改ざんを防ぐ。

#### バックエンド

認証にJWTを使用して、ログイン中のユーザ以外のデータへのアクセスを防止する。また、詳細なエラーメッセージを返さずに内部情報の漏洩を防ぐ。

#### DB

パラメータ化クエリを使用してSQLインジェクションを防止する。

#### インフラ

全てのサーバーを仮想ネットワーク上に存在する別々のゲストVM上で運用することで、外部からの侵入を防ぐ。


## 機能要件

サービスに要求される機能

### セキュリティ

認証にはJWTを使用する。JWTは暗号化する情報をJSONの形式で格納する認証方式で、トークン単体しか送信できないBearer tokenとは違い、ユーザーの権限情報も格納することが出来る。


### 証明書

WebサーバーとAPIサーバーには両方ともLet's Encryptのcertbotで取得した証明書を使用する。
なお、この場合の暗号化アルゴリズムはP-384のECDSAとする。


### ユーザー共通

- ユーザー新規作成
- ログイン
- ログアウト
- ミーティング情報の取得・外部登録 (ics, Google Calendar, Outlook Calendar)

### ミーティング主催者

ミーティング新規作成
ミーティング情報編集
参加できる時間を入力
参加できる時間を送信
最終的な日時を選択
選択した日時を参加者に通知

### ミーティング参加者  (主催者以外)

参加できる時間を入力
参加できる時間を送信


## DB設計

### ユーザーテーブル (usersテーブル)

| 項目名 (日本語) | 項目名 (変数) | 型 | 備考 | 
| ---- | ---- | ---- | ---- |
| ID | id | int | NOT NULL AUTO INCREMENT |
| ユーザー名 | user_name | string | NOT NULL |
| メールアドレス | email_address | string | NOT NULL |
| パスワード | password | string | NOT NULL |
| 管理者かどうか | is_admin | bool | NOT NULL |
| ログイン可能か | can_login | bool | NOT NULL |
| 登録日時 | created_at | datetime | NOT NULL DEFAULT CURRENT_DATETIME |
| 更新日時 | updated_at | datetime | NOT NULL DEFAULT CURRENT_DATETIME ON UPDATE CURRENT_DATETIME |


### ミーティングテーブル (meetingsテーブル)

| 項目名 (日本語) | 項目名 (変数) | 型 | 備考 | 
| ---- | ---- | ---- | ---- |
| ID | id | int | NOT NULL  AUTO INCREMENT |
| ミーティング名 | title | string | NOT NULL |
| 概要 | description | text | NOT NULL |
| 形式 | type | string | 現地 or オンライン |
| 集合場所 | place | string | |
| ミーティングURL | url | string | |
| 全員が回答したか | all_participants_responded | bool | NOT NULL |
| 確定したか | is_confirmed | bool | NOT NULL |
| 開始日時 | start_time | datetime | NOT NULL |
| 終了日時 | end_time | datetime | NOT NULL |
| 登録日時 | created_at | datetime | NOT NULL DEFAULT CURRENT_DATETIME |
| 更新日時 | updated_at | datetime | NOT NULL DEFAULT CURRENT_DATETIME ON UPDATE CURRENT_DATETIME |


### 参加者テーブル (participantsテーブル)

| 項目名 (日本語) | 項目名 (変数) | 型 | 備考 | 
| ---- | ---- | ---- | ---- |
| ID | id  | int | NOT NULL  AUTO INCREMENT |
| ユーザーID | user_id | int | NOT NULL |
| ミーティングID | meeting_id | int | NOT NULL |
| 主催者かどうか | is_host | bool | NOT NULL |
| 回答の有無 | has_responded | bool | NOT NULL |
| 登録日時 | created_at | datetime | NOT NULL DEFAULT CURRENT_DATETIME |
| 更新日時 | updated_at | datetime | NOT NULL DEFAULT CURRENT_DATETIME ON UPDATE CURRENT_DATETIME |



### 候補日時テーブル (candidate_timeテーブル)

| 項目名 (日本語) | 項目名 (変数) | 型 | 備考 | 
| ---- | ---- | ---- | ---- |
| ID | id  | int | NOT NULL  AUTO INCREMENT |
| ユーザーID | user_id | int | NOT NULL |
| ミーティングID | meeting_id | int | NOT NULL |
| 開始時間 | start_time | datetime | NOT NULL |
| 終了時間 | end_time | datetime | NOT NULL |
| 登録日時 | created_at | datetime | NOT NULL DEFAULT CURRENT_DATETIME |
| 更新日時 | updated_at | datetime | NOT NULL DEFAULT CURRENT_DATETIME ON UPDATE CURRENT_DATETIME |


## API仕様

### 共通事項

各APIは次のフォーマットのURLとする

https://lets-schedule.net/<エンドポイントのパス>

通信プロトコル: HTTPS
APIの種類: REST API
インターフェース: JSON
文字コード: UTF-8

ユーザー関連API 


#### 新規ユーザー作成

エンドポイント POST /YXBpL3NpZ251cA==

リクエストパラメータ

| キー名 | 型 (変数) | 概要 | 備考 |
| -- | -- | -- | -- | 
| id | int | ユーザーID | -- | 
| username | string | ユーザー名 | |
| email_address | string | メールアドレス | |
| password | string | パスワード | |
| is_admin | bool | 管理者かどうか | デフォルトはfalse |
| can_login | bool | ログイン可能かどうか | デフォルトはtrue |


ステータスコード

| コード | 意味 |
| -- | -- | 
| 200 | ユーザー登録成功 |
| 400 | ユーザー登録失敗 |

レスポンスパラメータ

| シチュエーション | キー名 | 型 | 概要 |
| -- | -- | -- | -- | 
| 成功時 | id | int | ユーザーID |
| | username | string | ユーザー名 |
| | email_address | string | メールアドレス |
| | password | string | パスワード |
| | is_admin | bool | 管理者かどうか |
| | can_login | bool | ログイン可能かどうか | 
| 失敗時 | errorMessageList | array\[string\] | エラーメッセージの配列 |



### ミーティング関連API エンドポイント 

#### ミーティング新規作成

エンドポイント POST /YXBpL3Jlc3RyaWN0ZWQvbWVldGluZ3MvbmV3

パラメータ

| キー名 | 型 (変数) | 概要 | 
| -- | -- | -- |
| title | string | ミーティング名 |
| description | text | 概要 |
| type | string | 形式 |
| place | string | 集合場所 |
| url | string | ミーティングURL |
| is_confirmed | bool | 日時が決定したかどうか |


ステータスコード

| コード | 意味 |
| -- | -- |
| 200 | ミーティング登録成功 |
| 400 | ミーティング登録失敗 |


レスポンスパラメータ

| シチュエーション | キー名 | 型 | 概要 |
| -- | -- | -- | -- | 
| 成功時 | id | int | ユーザーID |
| | title | string | ミーティング名 |
| |  description | text | 概要 |
| |  type | string | 形式 |
| |  place | string | 集合場所 |
| |  url | string | ミーティングURL |
| |  is_confirmed | bool | 日時が決定したかどうか |
| 失敗時 | errorMessageList | array\[string\] | エラーメッセージの配列 |


#### ミーティング情報取得

エンドポイント GET /YXBpL3Jlc3RyaWN0ZWQvbWVldGluZ3MvdXNlcg==/:user_id

パラメータ

| キー名 | 型 (変数) | 概要 | 
| -- | -- | -- |
| user_id | string | ユーザーID |


ステータスコード

| コード | 意味 |
| -- | -- |
| 200 | ミーティング情報取得成功 |
| 400 | ミーティング情報取得失敗 |


レスポンスパラメータ

| シチュエーション | キー名 | 型 (変数) | 概要 | 
| -- | -- | -- | -- |
| 成功時 | id| string | ミーティングID |
| | title | string | ミーティング名 |
| | description | text | 概要 |
| | type | string | 形式 |
| | meeting_place | string | 集合場所 |
| | meeting_url | string | ミーティングURL |
| | all_participants_responded | bool | 全員から返信があったか |
| | is_confirmed | bool | 日時が決まったか |
| | start_time | datetime | ミーティングの開始日時 |
| | end_time | datetime | ミーティングの終了日時 |
| | hour | float | ミーティングの時間 (h) |
| 失敗時 | error | string | デフォルトは「エラーが発生しました」 |

#### 日時が決定した主催ミーティング情報取得

エンドポイント GET /YXBpL3Jlc3RyaWN0ZWQvbWVldGluZ3MvaG9zdC9jb25maXJtZWQ=/:user_id

パラメータ

| キー名 | 型 (変数) | 概要 | 
| -- | -- | -- |
| user_id | string | ユーザーID |


ステータスコード

| コード | 意味 |
| -- | -- |
| 200 | ミーティング情報取得成功 |
| 400 | ミーティング情報取得失敗 |


レスポンスパラメータ

| シチュエーション | キー名 | 型 (変数) | 概要 | 
| -- | -- | -- | -- |
| 成功時 | meetings | Meeting[] | ミーティング情報の配列 |
| 失敗時 | error | string | デフォルトは「エラーが発生しました」 |


#### 日時が決定していない主催ミーティング情報取得

エンドポイント GET /aYXBpL3Jlc3RyaWN0ZWQvbWVldGluZ3MvaG9zdC9ub3QtY29uZmlybWVk/:user_id

パラメータ

| キー名 | 型 (変数) | 概要 | 
| -- | -- | -- |
| user_id | string | ユーザーID |


ステータスコード

| コード | 意味 |
| -- | -- |
| 200 | ミーティング情報取得成功 |
| 400 | ミーティング情報取得失敗 |


レスポンスパラメータ

| シチュエーション | キー名 | 型 (変数) | 概要 | 
| -- | -- | -- | -- |
| 成功時 | meetings | Meeting[] | ミーティング情報の配列 |
| 失敗時 | error | string | デフォルトは"エラーが発生しました |


#### 返信していない主催ミーティング情報取得

エンドポイント GET /YXBpL3Jlc3RyaWN0ZWQvbWVldGluZ3MvaG9zdC9ub3QtcmVzcG9uZGVk/:user_id

パラメータ

| キー名 | 型 (変数) | 概要 | 
| -- | -- | -- |
| user_id | string | ユーザーID |


ステータスコード

| コード | 意味 |
| -- | -- |
| 200 | ミーティング情報取得成功 |
| 400 | ミーティング情報取得失敗 |


レスポンスパラメータ

| シチュエーション | キー名 | 型 (変数) | 概要 | 
| -- | -- | -- | -- |
| 成功時 | meetings | Meeting[] | ミーティング情報の配列 |
| 失敗時 | error | string | デフォルトは「エラーが発生しました」 |


#### 日時が決定している参加ミーティング情報取得

エンドポイント GET /YXBpL3Jlc3RyaWN0ZWQvbWVldGluZ3MvZ3Vlc3QvY29uZmlybWVk/:user_id

パラメータ

| キー名 | 型 (変数) | 概要 | 
| -- | -- | -- |
| user_id | string | ユーザーID |


ステータスコード

| コード | 意味 |
| -- | -- |
| 200 | ミーティング情報取得成功 |
| 400 | ミーティング情報取得失敗 |


レスポンスパラメータ

| シチュエーション | キー名 | 型 (変数) | 概要 | 
| -- | -- | -- | -- |
| 成功時 | meetings | Meeting[] | ミーティング情報の配列 |
| 失敗時 | error | string | デフォルトは「エラーが発生しました」 |


#### 日時が決定していない参加ミーティング情報取得

エンドポイント GET /YXBpL3Jlc3RyaWN0ZWQvbWVldGluZ3MvZ3Vlc3Qvbm90LWNvbmZpcm1lZA==/:user_id

パラメータ

| キー名 | 型 (変数) | 概要 | 
| -- | -- | -- |
| user_id | string | ユーザーID |


ステータスコード

| コード | 意味 |
| -- | -- |
| 200 | ミーティング情報取得成功 |
| 400 | ミーティング情報取得失敗 |


レスポンスパラメータ

| シチュエーション | キー名 | 型 (変数) | 概要 | 
| -- | -- | -- | -- |
| 成功時 | meetings | Meeting[] | ミーティング情報の配列 |
| 失敗時 | error | string | デフォルトは |


#### 返信していない参加ミーティング情報取得

エンドポイント GET /YXBpL3Jlc3RyaWN0ZWQvbWVldGluZ3MvZ3Vlc3Qvbm90LXJlc3BvbmRlZA===/:user_id

パラメータ

| キー名 | 型 (変数) | 概要 | 
| -- | -- | -- |
| user_id | string | ユーザーID |


ステータスコード

| コード | 意味 |
| -- | -- |
| 200 | ミーティング情報取得成功 |
| 400 | ミーティング情報取得失敗 |


レスポンスパラメータ

| シチュエーション | キー名 | 型 (変数) | 概要 | 
| -- | -- | -- | -- |
| 成功時 | meetings | Meeting[] | ミーティング情報の配列 |
| 失敗時 | error | string | デフォルトは「エラーが発生しました」 |



### 候補日時関連API 

#### 候補日時の新規登録

エンドポイントPOST /YXBpL3Jlc3RyaWN0ZWQvY2FuZGlkYXRlX3RpbWVzL25ldw==

リクエストパラメータ

| キー名 | 型 (変数) | 概要 |
| -- | -- | -- |
| candidate_time_list | CandidateTime[] | 候補日時の配列 |


レスポンスパラメータ

| シチュエーション | キー名 | 型 (変数) | 概要 | 
| -- | -- | -- | -- |
| 成功時 | candidate_time | CandidateTime[] | 候補日時の配列 |
| 失敗時 | error | string | デフォルトは「エラーが発生しました」 |


#### 候補日時の取得

エンドポイント GET /YXBpL3Jlc3RyaWN0ZWQvY2FuZGlkYXRlX3RpbWVzL3VzZXI=/:user_id/bWVldGluZw==/:meeting_id

リクエストパラメータ

| キー名 | 型 (変数) | 概要 |
| -- | -- | -- |
| user_id | int | ユーザーID |
| meeting_id | int | ミーティングID |


レスポンスパラメータ

| シチュエーション | キー名 | 型 (変数) | 概要 | 
| -- | -- | -- | -- |
| 成功時 | candidate_time | CandidateTime | 候補日時の配列 |
| 失敗時 | error | string | デフォルトは「エラーが発生しました」 |




#### 候補日時の編集

エンドポイント PUT /YXBpL3Jlc3RyaWN0ZWQvY2FuZGlkYXRlX3RpbWVzL3VzZXI=/:user_id/bWVldGluZw==/:meeting_id

リクエストパラメータ

| キー名 | 型 (変数) | 概要 |
| -- | -- | -- |
| user_id | int | ユーザーID |
| meeting_id | int | ミーティングID |


レスポンスパラメータ

| シチュエーション | キー名 | 型 (変数) | 概要 | 
| -- | -- | -- | -- |
| 成功時 | candidate_time | CandidateTime[] | 候補日時の配列 |
| 失敗時 | error | string | デフォルトは「エラーが発生しました」 |



### 参加者関連API 

#### 参加者の新規登録

エンドポイントPOST /YXBpL3Jlc3RyaWN0ZWQvcGFydGljaXBhbnRzL25ldw==

リクエストパラメータ

| キー名 | 型 (変数) | 概要 |
| -- | -- | -- |
| participants | Participant[] | 候補日時の配列 |


レスポンスパラメータ

| シチュエーション | キー名 | 型 (変数) | 概要 | 
| -- | -- | -- | -- |
| 成功時 | participants | Participant[] | 候補日時の配列 |
| 失敗時 | error | string | デフォルトは「エラーが発生しました」 |


#### 参加者の取得

エンドポイント GET /YXBpL3Jlc3RyaWN0ZWQvcGFydGljaXBhbnRz/:meeting_id

リクエストパラメータ

| キー名 | 型 (変数) | 概要 |
| -- | -- | -- |
| meeting_id | int | ミーティングID |


レスポンスパラメータ

| シチュエーション | キー名 | 型 (変数) | 概要 | 
| -- | -- | -- | -- |
| 成功時 | participants | Participant[] | 候補日時の配列 |
| 失敗時 | error | string | デフォルトは「エラーが発生しました」 |




#### 参加者の編集

エンドポイント PUT /YXBpL3Jlc3RyaWN0ZWQvcGFydGljaXBhbnRzL21lZXRpbmc=/:meeting_id

リクエストパラメータ

| キー名 | 型 (変数) | 概要 |
| -- | -- | -- |
| meeting_id | int | ミーティングID |


レスポンスパラメータ

| シチュエーション | キー名 | 型 (変数) | 概要 | 
| -- | -- | -- | -- |
| 成功時 | participants | Participant[] | 参加者の配列 |
| 失敗時 | error | string | デフォルトは「エラーが発生しました」 |




## ページ

### フロントページ

#### ログインページ
- ユーザー名の入力欄
- パスワードの入力欄
- パスワード再設定ページへのリンク

#### ユーザー登録ページ
- メアドの入力欄
- ユーザー名の入力欄
- パスワードの入力欄

#### パスワード再設定ページ
- メアドの入力欄
- パスワードの入力欄
- パスワード (確認用)の入力欄

#### ダッシュボード

- ヘッダー
  - 主催ミーティング一覧のトグルメニュー
    - 日時決定済みミーティング一覧ページに遷移するボタン
    - 日時未定なミーティング一覧ページに遷移するボタン
  - 参加ミーティング一覧のトグルメニュー
    - 日時決定済みミーティング一覧ページに遷移するボタン
    - 日時未定なミーティング一覧ページに遷移するボタン
    - 未返信のミーティング一覧ページに遷移するボタン
  - ミーティング新規作成ページに遷移するボタン
- ボディ
  - ログイン中のユーザーが参加する全ミーティング一覧

#### ダッシュボード

- ヘッダー
  - 主催ミーティング一覧のトグルメニュー
    - 日時決定済みミーティング一覧ページに遷移するボタン
    - 日時未定なミーティング一覧ページに遷移するボタン
  - 参加ミーティング一覧のトグルメニュー
    - 日時決定済みミーティング一覧ページに遷移するボタン
    - 日時未定なミーティング一覧ページに遷移するボタン
    - 未返信のミーティング一覧ページに遷移するボタン
  - ミーティング新規作成ページに遷移するボタン
- ボディ
  - ログイン中のユーザーが参加する全ミーティング一覧

#### ミーティング新規作成ページ
- ミーティング名の入力欄
- 概要の入力欄
- 予定日時の入力欄
- 形式の入力欄
- 参加者の入力欄
- 新規作成ボタン
- 戻るボタン

#### 日時決定している主催ミーティング・参加ミーティングのカード
- icsファイルをダウンロードするボタン
- Googleカレンダーに遷移するボタン
- Outlookカレンダーに遷移するボタン

#### 日時決定していない主催ミーティングのカード
- 日時決定ページに遷移するボタン

#### 日時決定ページ
- 最適な時間帯の入力欄
- 決定ボタン
- 戻るボタン

#### 日時決定していない参加ミーティング・未返信の参加ミーティングのカード
- 候補日時ページに遷移するボタン

#### 候補日時ページ
- 候補日時の入力欄
- 送信ボタン
- 戻るボタン

## 非機能要件

### 同時接続数

レスポンスタイム (クライアントからの通信 ~ クライアントへの受信) 100ms


### インフラ構成

<img width="670" alt="Screenshot 2024-06-01 at 21 51 32" src="https://github.com/makotonakai/lets-schedule/assets/45162150/26310471-c6a6-4663-820f-77c3e2ca5e50">


可用性 
約 99.6%
単一インスタンスの可用性最低99.5%
(https://aws.amazon.com/compute/sla/?nc1=h_ls)

 1 - (1 - 0.995) ** 2 ≒ 0.9996059576745632…


